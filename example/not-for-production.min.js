// STALE VERSION - DO NOT USE - FOR EXAMPLE PURPOSES ONLY
"use strict";function debounce(e,i,s){var r,o,a,n,l;function c(){var t=Date.now()-n;t<i&&0<=t?r=setTimeout(c,i-t):(r=null,s||(l=e.apply(a,o),a=o=null))}null==i&&(i=100);var t=function(){a=this,o=arguments,n=Date.now();var t=s&&!r;return r||(r=setTimeout(c,i)),t&&(l=e.apply(a,o),a=o=null),l};return t.clear=function(){r&&(clearTimeout(r),r=null)},t.flush=function(){r&&(l=e.apply(a,o),a=o=null,clearTimeout(r),r=null)},t}var EbGridLayout=function(){function t(t,e,i){void 0===e&&(e=function(){}),void 0===i&&(i={gridContainerClass:"grid-container",gridGroupClass:"grid-group",gridItemClass:"grid-item",refreshRate:200});var s=this;this.elements=[],this.state={activeGroupBy:"",activeGroupElems:[],activeSort:"",activeSortAsc:!0},this.options=i,this.gridContainer=t,this.gridContainer.classList.add(this.options.gridContainerClass),this.interfaceSortElems=document.querySelectorAll("[data-sortby]"),this.interfaceGroupElems=document.querySelectorAll("[data-groupby]"),window.addEventListener("resize",debounce(function(){s.updateLayout()},this.options.refreshRate)),this.callbackFunction=e,this.addEventListeners()}return t.prototype.createElem=function(t){var e=document.createElement("div");return e.className=this.options.gridItemClass+" invisible",e.innerHTML=t.innerHTML,this.elements.push({active:!0,attributes:t.attributes,dom:e}),this.gridContainer.appendChild(e),e},t.prototype.updateLayout=function(){var t=this.gridContainer.clientWidth,e=0,i=0,s=0,r="";this.removeGroupElems();for(var o=0,a=this.elements;o<a.length;o++){var n=a[o];if(n.active){var l=n.dom.getBoundingClientRect(),c=l.width,u=l.height;if(""!==this.state.activeGroupBy&&n.attributes[this.state.activeGroupBy]&&n.attributes[this.state.activeGroupBy]!==r){s+=i,i=u,1,e=0;var h=n.attributes[this.state.activeGroupBy];r=h,s+=this.createGroupElem(h,s)}e+c<=t?i=i<u?u:i:(s+=i,i=u,1,e=0),n.dom.className=this.options.gridItemClass,this.setPosition(n.dom,e,s),e+=c}else n.dom.classList.add("invisible")}s+=i,this.gridContainer.style.height=s+"px",this.callbackFunction({height:s})},t.prototype.sortBy=function(t,e){if(void 0===e&&(e=!0),this.state.activeGroupBy="","random"===t)return this.shuffle(),0;t===this.state.activeSort&&(e=!this.state.activeSortAsc),this.sortElementsArray(t,e),this.updateLayout()},t.prototype.groupBy=function(t){this.state.activeGroupBy!==t&&(this.sortElementsArray(t,!0),this.state.activeGroupBy=t,this.updateLayout())},t.prototype.filter=function(t){for(var e=0,i=this.elements;e<i.length;e++){var s=i[e];s.active=t(s.attributes)}this.updateLayout()},t.prototype.clearFilter=function(){for(var t=0,e=this.elements;t<e.length;t++){e[t].active=!0}this.updateLayout()},t.prototype.createGroupElem=function(t,e){var i=document.createElement("div");return i.className=this.options.gridGroupClass+" fade-in "+this.options.gridGroupClass+"-"+this.state.activeGroupBy+" "+this.options.gridGroupClass+"-"+this.sanitizeForCssClass(t),i.innerHTML="<p>"+t+"</p>",this.state.activeGroupElems.push(i),this.gridContainer.appendChild(i),this.setPosition(i,0,e),i.getBoundingClientRect().height},t.prototype.removeGroupElems=function(){for(var t=0,e=this.state.activeGroupElems;t<e.length;t++){var i=e[t];this.gridContainer.removeChild(i)}this.state.activeGroupElems=[]},t.prototype.sortElementsArray=function(r,o){void 0===o&&(o=!0),this.state.activeSort=r,this.state.activeSortAsc=o,this.elements.sort(function(t,e){var i=t.attributes[r],s=e.attributes[r];return o||(s=[i,i=s][0]),i<s?-1:s<i?1:0})},t.prototype.shuffle=function(){for(var t,e,i=this.elements.length;0!==i;)e=Math.floor(Math.random()*i),i-=1,t=this.elements[i],this.elements[i]=this.elements[e],this.elements[e]=t;this.updateLayout()},t.prototype.addEventListeners=function(){for(var i=this,t=function(t){var e=s.interfaceSortElems[t].getAttribute("data-sortby");s.interfaceSortElems[t].addEventListener("click",function(){i.sortBy(e),i.deselectAllInterfaceElems(),i.interfaceSortElems[t].classList.add("eb-active")})},s=this,e=0;e<this.interfaceSortElems.length;e++)t(e);var r=function(t){var e=o.interfaceGroupElems[t].getAttribute("data-groupby");o.interfaceGroupElems[t].addEventListener("click",function(){i.groupBy(e),i.deselectAllInterfaceElems(),i.interfaceGroupElems[t].classList.add("eb-active")})},o=this;for(e=0;e<this.interfaceGroupElems.length;e++)r(e)},t.prototype.deselectAllInterfaceElems=function(){for(var t=0;t<this.interfaceSortElems.length;t++)this.interfaceSortElems[t].classList.remove("eb-active");for(t=0;t<this.interfaceGroupElems.length;t++)this.interfaceGroupElems[t].classList.remove("eb-active")},t.prototype.setPosition=function(t,e,i){t.style.transform="translate3d("+e+"px, "+i+"px, 0)"},t.prototype.sanitizeForCssClass=function(t){return t.replace(/<[^>]+>/gi,"").replace(/[^a-z0-9]/g,function(t){var e=t.charCodeAt(0);return 32===e?"-":65<=e&&e<=90?"_"+t.toLowerCase():""}).substring(0,16)},t}();

var shapes = ['triangle', 'circle', 'square'];
var colors = ['blue', 'red', 'yellow'];

function getRandomFromArray(array) {
    return array[Math.floor(Math.random() * array.length)];
}